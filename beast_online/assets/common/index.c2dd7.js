window.__require=function t(e,o,r){function n(i,a){if(!o[i]){if(!e[i]){var s=i.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+i+"'")}i=s}var p=o[i]={exports:{}};e[i][0].call(p.exports,function(t){return n(e[i][1][t]||t)},p,p.exports,t,e,o,r)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<r.length;i++)n(r[i]);return n}({confirm:[function(t,e,o){"use strict";cc._RF.push(e,"e5d3bWkP/ZP+4MLT+rF8CKd","confirm");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/components/PopupBase"),a=cc._decorator,s=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.sureCall=null,e.cancelCall=null,e}return n(e,t),e.prototype.setData=function(t,e,o){this.content.node.getComponent(app.i18nLabel).init(t,[]),this.sureCall=e,this.cancelCall=o},e.prototype.btnSureClick=function(){this.sureCall&&this.sureCall(),this.hide()},e.prototype.btnCancelClick=function(){this.cancelCall&&this.cancelCall(),this.hide()},e.prototype.onAfterHide=function(){this.node.destroy()},c([l(cc.Label)],e.prototype,"content",void 0),c([s],e)}(i.default);o.default=p,cc._RF.pop()},{"../../core/components/PopupBase":void 0}],mySpear:[function(t,e,o){"use strict";cc._RF.push(e,"4b7aco4KXNAWqliKtemjtVh","mySpear");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i},i=this&&this.__awaiter||function(t,e,o,r){return new(o||(o=Promise))(function(n,c){function i(t){try{s(r.next(t))}catch(e){c(e)}}function a(t){try{s(r.throw(t))}catch(e){c(e)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(i,a)}s((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,r,n,c,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(t){return function(e){return s([t,e])}}function s(c){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,r&&(n=2&c[0]?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[2&c[0],n.value]),c[0]){case 0:case 1:n=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!n||c[1]>n[0]&&c[1]<n[3])){i.label=c[1];break}if(6===c[0]&&i.label<n[1]){i.label=n[1],n=c;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(c);break}n[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(a){c=[6,a],r=0}finally{o=n=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/components/LayerBase"),l=t("../../game/beastMgr"),p=t("../../game/beast_config"),u=t("./spearRecord"),f=cc._decorator,d=f.ccclass,h=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dagger=null,e.goldSpear=null,e.backCall=null,e.jumpCall=null,e}return n(e,t),e.prototype.start=function(){l.default.inst.beastModule&&(this.goldSpear.active=!0)},e.prototype.setData=function(e,o,r){this.dagger.string=MyFun.formatDecimalPlaces(e),this.backCall=o,t.prototype.setBackCall.call(this,o),this.jumpCall=r},e.prototype.btnRecordClicked=function(){return i(this,void 0,void 0,function(){var t,e,o=this;return a(this,function(r){switch(r.label){case 0:return[4,MyFun.loadPrefab(p.getPrefabInfo(p.Bundles.Common,p.Common_Pop.SpearRecord))];case 1:return t=r.sent(),(e=cc.instantiate(t)).parent=cc.find("Canvas"),this.node.active=!1,e.getComponent(u.default).setBackCall(function(){o.node.active=!0}),[2]}})})},e.prototype.btnStrikeBeastClicked=function(){this.backCall&&this.backCall(),this.jumpCall&&this.jumpCall(),l.default.inst.jumpToGame(l.gameType.beastStrike)},e.prototype.btnCloseClicked=function(){t.prototype.onClose.call(this)},c([h(cc.Label)],e.prototype,"dagger",void 0),c([h(cc.Node)],e.prototype,"goldSpear",void 0),c([d],e)}(s.default);o.default=y,cc._RF.pop()},{"../../core/components/LayerBase":void 0,"../../game/beastMgr":void 0,"../../game/beast_config":void 0,"./spearRecord":"spearRecord"}],safeAreaUI:[function(t,e,o){"use strict";cc._RF.push(e,"96f82CylUdLKonrpLHQ27yz","safeAreaUI");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../game/beastMgr"),a=cc._decorator,s=a.ccclass,l=(a.property,a.menu),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){this.setSafeAreaUI()},e.prototype.setSafeAreaUI=function(){var t=this;"H5"!=i.default.inst.platform&&(this.node.getComponent(cc.Widget).top=i.default.inst.sysHeight,this.scheduleOnce(function(){t.node.getComponent(cc.Widget).updateAlignment()},0))},c([s,l("\u5c4f\u5e55\u9002\u914d/safeAreaUI")],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../game/beastMgr":void 0}],spearRecord:[function(t,e,o){"use strict";cc._RF.push(e,"0029e9/PrROJKUPNq2Plqd9","spearRecord");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../core/components/LayerBase"),a=t("../../game/beastMgr"),s=t("../../proto/mystibeast_pb"),l=cc._decorator,p=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.list=null,e.item=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;cc.director.on("refresh_spearRecord",function(){t.loadSpearRecord()})},e.prototype.onDestroy=function(){cc.director.off("refresh_spearRecord")},e.prototype.start=function(){this.loadSpearRecord()},e.prototype.loadSpearRecord=function(){var t=this,e=new s.UserDaggersRecordReq;a.default.inst.strikeBeastClient.userDaggersRecord(e,a.default.inst.metadata).then(function(e){if(0==e.getResult()){var o=e.getUserdaggersrecordresp().toObject();cc.log(o),t.loadPlayerRecord(o.recordListList)}else cc.log("errorCode",e.getCode(),"errorMsg",e.getMsg()),a.default.inst.handleCode(e.getCode())})},e.prototype.loadPlayerRecord=function(t){this.list.removeAllChildren(),this.loadByFrames(t)},e.prototype.loadByFrames=function(t){var e=this,o=t.length,r=0,n=function(){for(var c=Math.min(o-r,30),i=0;i<c;i++)e.addItem(r,t),r++;r<o?e.scheduleOnce(function(){return n()}):e.scheduleOnce(function(){e.improveDC()})};n()},e.prototype.addItem=function(t,e){if(!(t>=e.length)){var o=cc.instantiate(this.item);o.active=!0;var r=e[t],n=o.getChildByName("result");1==r.source?n.getComponent(app.i18nLabel).init("beastcoming_spear11",[]):2==r.source?n.getComponent(app.i18nLabel).init("beastcoming_spear12",[]):3==r.source?n.getComponent(app.i18nLabel).init("beastcoming_spear10",[]):4==r.source?n.getComponent(app.i18nLabel).init("beastcoming_spear9",[]):5==r.source?n.getComponent(app.i18nLabel).init("beastcoming_spear13",[]):6==r.source&&n.getComponent(app.i18nLabel).init("beastcoming_spear14",[]),o.getChildByName("time").getComponent(cc.Label).string=MyFun.formattedDateTime(1e3*r.updateTime);var c=MyFun.getRealNum(r.changeNum),i=c>0?"+":"";o.getChildByName("get").getComponent(cc.Label).string=i+c.toFixed(2),o.parent=this.list}},e.prototype.improveDC=function(){if(0!=this.list.childrenCount){var t=this.scrollView.parent.convertToWorldSpaceAR(cc.v2(this.scrollView.x-this.scrollView.anchorX*this.scrollView.width,this.scrollView.y-this.scrollView.anchorY*this.scrollView.height)),e=cc.rect(t.x,t.y,this.scrollView.width,this.scrollView.height);this.list.children.forEach(function(t){t.children.forEach(function(t){t.getBoundingBoxToWorld().intersects(e)?0===t.opacity&&(t.opacity=255):0!==t.opacity&&(t.opacity=0)})})}},e.prototype.btnCloseClicked=function(){t.prototype.onClose.call(this)},c([u(cc.Node)],e.prototype,"scrollView",void 0),c([u(cc.Node)],e.prototype,"list",void 0),c([u(cc.Node)],e.prototype,"item",void 0),c([p],e)}(i.default);o.default=f,cc._RF.pop()},{"../../core/components/LayerBase":void 0,"../../game/beastMgr":void 0,"../../proto/mystibeast_pb":void 0}],tip:[function(t,e,o){"use strict";cc._RF.push(e,"398aawnuHNCmLnhwDL5M1en","tip");var r,n=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,r){var n,c=arguments.length,i=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(i=(c<3?n(i):c>3?n(e,o,i):n(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,s=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipLab=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.showTip=function(t,e){var o=this;this.tipLab.getComponent(app.i18nLabel).init(t,[e]),cc.tween(this.node).delay(1).to(.3,{y:100,opacity:0}).call(function(){o.node.destroy()}).start()},c([s(cc.Node)],e.prototype,"tipLab",void 0),c([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}]},{},["confirm","mySpear","safeAreaUI","spearRecord","tip"]);